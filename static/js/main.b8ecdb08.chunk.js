(this.webpackJsonpmanual=this.webpackJsonpmanual||[]).push([[0],{12:function(e,t,n){e.exports=n(46)},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n(0),i=n.n(o),s=n(2),r=n.n(s),c=n(9),l=n(7),u=n(8),h=n(3),p=n(11),v=n(10),m=(n(44),a.a.View.Combo),d=a.a.View.Icon,f=a.a.View.Input,g=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(l.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).time=0,e.interval=0,e.sounds=[],e.voices={},e.state={exercicesCount:"5",exercicesDuration:"30",repetitionsCount:"3",pauseBetweenRepetitions:"60",voice:"",play:!1},e.handleVoiceChange=function(t){e.setState({voice:t}),e.voices[t]&&e.speak("Hello guys! My name is Alfred: I am your personal coach.")},e.handleStart=function(){e.sounds=[];for(var t=a.a.Converter.Integer(e.state.exercicesCount,0),n=a.a.Converter.Integer(e.state.exercicesDuration,0),o=a.a.Converter.Integer(e.state.repetitionsCount,0),i=a.a.Converter.Integer(e.state.pauseBetweenRepetitions,0),s=0,r=0;r<o;r++){r>0&&(e.sounds.push({time:s,speech:"Pause"}),s+=i);for(var c=0;c<t;c++)e.sounds.push({time:s,speech:"Exercise ".concat(c+1," of ").concat(t)}),s+=n}e.sounds.push({time:s,speech:"Well done!"}),e.time=Date.now(),e.interval=window.setInterval(e.checkTime,200),e.setState({play:!0})},e.handleStop=function(){window.clearInterval(e.interval),e.setState({play:!1},(function(){return e.speak("This session has been aborted!")}))},e.checkTime=function(){var t=.001*(Date.now()-e.time),n=Object(h.a)(e).sounds;if(n.length<1)e.setState({play:!1});else{var a=n[0];a.time>t||(n.shift(),e.speak(a.speech))}},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.speechSynthesis.getVoices().filter((function(e){return e.lang.startsWith("en")})).forEach((function(t){e.voices[t.name]=t})),this.setState({voice:Object.keys(this.voices)[0]},(function(){return e.speak("Bienvenue \xe0 la pri\xe8re au soleil!")}))}},{key:"speak",value:function(e){if(console.log(e),this.voices[this.state.voice]){var t=new SpeechSynthesisUtterance(e);t.pitch=1,t.rate=1,window.speechSynthesis.speak(t)}}},{key:"render",value:function(){var e=this,t=["App","thm-bg0"].concat(Object(c.a)(a.a.Converter.StringArray(this.props.className,[]))),n=Object.keys(this.voices);return console.info("voices=",n),i.a.createElement("div",{className:t.join(" ")},i.a.createElement("div",{className:"input"},i.a.createElement(m,{wide:!0,label:"Coach's voice",value:this.state.voice,onChange:this.handleVoiceChange},n.map((function(e){return i.a.createElement("div",{key:e},e)}))),i.a.createElement(f,{wide:!0,label:"Exercices Count",storage:"exercicesCount",value:this.state.exercicesCount,onChange:function(t){return e.setState({exercicesCount:t})}}),i.a.createElement(f,{wide:!0,label:"Exercices Duration",storage:"exercicesDuration",value:this.state.exercicesDuration,onChange:function(t){return e.setState({exercicesDuration:t})}}),i.a.createElement(f,{wide:!0,label:"Repetitions Count",storage:"repetitionsCount",value:this.state.repetitionsCount,onChange:function(t){return e.setState({repetitionsCount:t})}}),i.a.createElement(f,{wide:!0,label:"Pause Duration",storage:"pauseBetweenRepetitions",value:this.state.pauseBetweenRepetitions,onChange:function(t){return e.setState({pauseBetweenRepetitions:t})}})),i.a.createElement("div",{className:"play"},!this.state.play&&i.a.createElement("button",{className:"button thm-bgP thm-ele-nav",onClick:this.handleStart},i.a.createElement(d,{content:"play",size:"30vmin"})),this.state.play&&i.a.createElement("button",{className:"button thm-bgS thm-ele-nav",onClick:this.handleStop},i.a.createElement(d,{content:"pause",size:"30vmin"}))))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(45);a.a.Theme.register("chronos",{bg0:"#ddb",bg3:"#fff",bgP:"#3f5",bgS:"#f53"}),a.a.Theme.apply("chronos"),r.a.render(i.a.createElement(g,null),document.getElementById("root"));var w=document.getElementById("tp-logo");w&&(w.classList.add("vanish"),window.setTimeout((function(){var e;null===(e=w.parentNode)||void 0===e||e.removeChild(w)}),1e3)),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.b8ecdb08.chunk.js.map